# 支付服务设计

## 生成支付

传递

```
token
订单ID
支付类型
```

[调用订单服务获取订单主信息](./订单服务设计.md#拉取订单信息)

得到支付金额，消费者ID等等一些信息

生成一个支付，返回该支付ID

## 支付

传递

```
支付ID
```

根据支付信息生成跳转URL
给前端跳转，完成支付

## 第三方支付回调

传递

```
请求
```

根据一些信息，来完成回调，
校验支付成功之后，修改支付状态
[修改订单状态为已支付](./订单服务设计.md#设置支付状态)

## 退款

传递

```
token
订单ID
```

验证订单是否属于商家
通过后调用第三方支付系统退款