# 需求分析

这个系统是一个订餐系统，其目标是连接商家与顾客还有骑手
平台只负责管理，不参与销售运营

- 只做信息的生意

## 订餐者角度

### 注册登录

没什么好说的，基本上都是通用的

### 定位

一旦订餐者登录，系统就必须通过自动或者提示用户的方式，确定订餐者所在城市
理想情况下，应该要精确到地点名称
如果系统无法确定订餐者所在位置，应该能通过以下列表让用户自行选择城市：

- 搜索城市
- 热门城市
- 按字母排序城市

### 首页

#### 分类模块

该模块下拥有一些视频分类项（如是**小吃**、或者**正餐**），订餐者选择某个分类，系统会向订餐者展示附近的这个分类的商家
订餐者可以根据：

- 距离
- 销量
- 起送价
- 配送速度
- 评分

对商家进行排序

订餐者可以根据：

- 配送方式
- 以及一些商家属性
  - 外卖保险
  - 准时达

等等一些动态属性进行筛选

#### 附近商家

这个模块展示附近有哪些商家
展示的信息包括：

- 店铺logo
- 店铺名称
- 评分
- 月销售数、
- 距离订餐者距离

以及一些额外的动态属性，这些属性是在系统运行时动态添加的

比如上面的外卖保险、准时达等等

##### 店铺

订餐者选择某个商家，系统根据订餐者所选择的商家

展示：

- 店铺信息
  - logo
  - 名称
  - 公告
  - 商家动态属性
- 商家信息
  - 商家地址
  - 商家图片
  - 商家描述
  - 营业时间
- 商品分类
  - 订餐者点击某个商品分类系统会展示商品
- 商品
  - 商品展示的信息包括：
    - 是否是新品
    - 商品图片
    - 商品名称
    - 商品价格
    - 商品销量
    - 好评率
- 评价
  - 综合评价分数
  - 评价词云
  - 维度评价
    - 服务态度
    - 菜品
  - 其他用户的评论
    - 用户昵称（脱敏处理）
    - 评价时间
    - 评价星级
    - 图片

#### 购物车

订餐者在位于某个商家店铺里时，展示购物车，购物车显示当前购物车所有商品总金额
选择购物车，可以展示购物车中的商品，商品信息包括：

- 商品名称
- 商品单价
- 商品数量

##### 结算

订餐者选择商品结束，点击购物车，进入结算页面

该页面展示：

- 订餐者的默认收货信息，具体包括地址、姓名
  - 如果订餐者没有默认收货信息，则可以添加一个新的收货信息，并将这个信息设置为默认地址
- 送达时间，系统根据一些信息计算得到的
- 支付方式
- 订单商品信息
  - 商品名称
  - 商品数量
  - 商品单价
- 订单总金额
- 订单备注
  - 订餐者可以在这里留言给商家
  
用户提交订单，跳转到支付页面，扫码支付

订餐者支付成功之后，跳转到订单列表

### 订单

这个页面显示订餐者的所有订单

显示信息包括：

- 店铺logo
- 订单名称
- 订单创建时间
- 订单总金额
- 订单状态
  - 订单状态有：
    - 等待支付
      - 等待的状态下，系统会进行读秒倒计时，在倒计时到0之前，用户可以取消订单，时间一到，系统自动取消订单
    - 已支付
      - 经过付款之后的状态
    - 已取消
      - 订餐者关闭或者超时关闭

点击订单列表的项会进入订单详情，订单详情显示如下：

- 店铺logo
- 订单状态
- 订单商品信息
- 订单总金额
- 订单号
- 订单创建时间
- 配送信息
  - 收货信息
  - 配送方式
  - 留言

### 个人中心

这个页面显示：

- 个人信息
  - 头像
  - 名字
  - 手机号
- 以及系统的一些其他页面导航
  - 订单列表
  - 服务中心
    - 在线客服
    - 常见问题

点击个人信息，可以进入个人资料编辑页面，可以对以下信息编辑：

- 头像
- 用户名
- 收货地址
- 手机号码
- 登录密码

## 商家角度

### 注册

商家注册必须填写如下信息，以下加粗项为必填项

- 手机或者邮箱
- **店铺名称**
- **店铺地址**
  - 这个可以使用地图选择组件
  - 也可以采用手动输入的方式
- **联系电话**
- 店铺简介
- 店铺标语
- **店铺分类**
  - 通过提供级联选择让商家选择
- 配送费
- 起送价
- 营业时间
- 店铺头像
- 营业执照
- 餐饮服务许可证

提交这些信息后，商家等待后台人员审核，审核通过后将会通过邮箱或者手机通知，审核通过之前不能登录

### 登录

审核通过之前不能登录

### 商品

商家登录之后可以对商品进行增删改查

商品信息包括以下，加粗为必填项：

- 食品种类
  - 这里的视频种类指的是商家自己的食品种类，类似于目录，商家可以自己增加、修改、删除这些分类
- **食品名称**
- 食品详情
- 食品图片
- 食品特点
  - 新品
  - 招牌
- 食品规格
  - 单规格：只能选择数量
  - 多规格：类似于电商中的手机配置：8+128 6+64等
    - 规格包括规格名称、以及该种规格的价格

商家发布商品后，可以对商品的以下信息进行修改：

- 名称
- 详情
- 分类
- 图片
- 规格

商家还可以查看某种商品的信息，除了上面提到的信息，还有：

- 食品评分
- 月销量

### 订单

商家登录之后，可以看到属于自己的订单列表

并且订单列表是实时更新的

商家可以看到订单项的以下详情：

- 下单用户
- 订单信息

商家可以对订单做以下操作：

对于待支付的订单，商家可以修改其价格

除此之外，没有其他操作

## 骑手角度

骑手注册登录之后，可以在主页面看到一个待接单列表

### 待接单列表

这个页面显示所有待配送的订单，骑手可以选择一个接单，一旦抢单成功，在这个订单完结之前，就不能再接其他订单，接完这个订单之后，会得到一个验证码，骑手根据这个验证码去商家那里拿商品

当骑手把商品交给订餐者时，需要订餐者提供一个验证码，骑手可以根据这个将订单标记为已配送，此时，订单完结

### 历史接单列表

### 个人中心

## 后台管理人员角度

